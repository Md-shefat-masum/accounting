<template>
    <!-- form section -->
    <div>
        <sub-header></sub-header>

        <section class="content content-menu content_setting">
            <div class="container-fluid" style="padding-bottom: 100px;">
                <!-- breadcumbs -->

                <div class="block-header">
                    <div class="row" style="justify-content:center;">
                        <div class="col-md-10">
                            <div class="card" style="margin-bottom: 13px; padding-top: 30px;">
                                <div class="body">
                                    <div class="A54VNK-Mc-e">
                                        <div class="row">
                                            <div class="col-sm-4 offset-1">
                                                <h4>
                                                    <div class="">Company Information</div>
                                                </h4>
                                            </div>

                                            <div class="col-12">
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="gwt-uid-137" style="font-weight: normal;">Company Name</label>
                                                        <span class="text-danger bold">*</span>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" id="gwt-uid-137" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Address</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="line-1" />
                                                        <input type="text" class="form-control" placeholder="line-2" />
                                                        <input type="text" class="form-control" placeholder="line-3" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">City</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="city" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">State</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="state" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Zip code</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Zip code" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Country</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Country" />
                                                    </div>
                                                </div>

                                                <hr>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Phone</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Phone" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Fax</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Fax" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Email</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Email" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Website</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Website" />
                                                    </div>
                                                </div>

                                                <hr>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">EIN</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="EIN" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Sales Tax Number</label>

                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Sales Tax Number" />
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12">
                                                <h4>Document Settings</h4>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Document Language</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Document Language" />
                                                    </div>
                                                </div>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Document Format</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Document Format" />
                                                    </div>
                                                </div>

                                                <!-- <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Document Templates</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" placeholder="Document Format" />
                                                    </div>
                                                </div> -->

                                            </div>

                                            <div class="col-12">
                                                <hr>

                                                <h4>sales Settings</h4>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Default Quote Expiration (days)</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" value="30" />
                                                    </div>
                                                </div>

                                                <hr>

                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Late payments penalties fees</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" value="0.00" />
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Late payments penalties interest rate</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" value="0.00" />
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Cash Drawer Management</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">On</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">Off</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr>
                                            </div>

                                            <div class="col-12">
                                                <h4>Finance Settings</h4>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Accounting basis</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">Cash</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">Accrual</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Tax Management</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">Yes</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">No</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">Sales Tax Basis</label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">Cash</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">Accrual</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Track Customer/Vendor for Sales Receipt and Expenses
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">Yes</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">No</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Working Period Start
                                                        </label>
                                                        <span class="text-danger bold">*</span>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="date" class="form-control" >
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Working Period Emd
                                                        </label>
                                                        <span class="text-danger bold">*</span>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="date" class="form-control" >
                                                    </div>
                                                </div>
                                                <hr>

                                            </div>

                                            <div class="col-12">
                                                <h4>Product and Service Settings</h4>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Pack Units for Sales and Purchases
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <div class="A54VNK-pe-b A54VNK-pe-d" style="width: 22%;">
                                                            <div aria-atomic="true" tabindex="0" class="btn-group A54VNK-Cc-c switch-button">
                                                                <a href="#" aria-pressed="true" role="button" class="btn active btn-primary">Yes</a>
                                                                <a href="#" aria-pressed="false" role="button" class="btn btn-default">No</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Default Storage Location
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" >
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <h4>Auto Numbering</h4>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Select an Object
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" >
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Prefix
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" value="QOT-" >
                                                    </div>
                                                </div>
                                                <div class="form-group SimpleTextQuestion row">
                                                    <div class="col-sm-4 col-xs-4 control-label text-right d-flex align-items-center justify-content-end">
                                                        <label class="m-0" for="" style="font-weight: normal;">
                                                            Last Code Used
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-8 col-xs-8">
                                                        <input type="text" class="form-control" value="000">
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="navbar navbar-fixed-bottom navbar-custom A54VNK-be-c formfooter" type="basic">
                <div class="A54VNK-Vf-d">
                    <div class="A54VNK-Vf-e"></div>
                    <div class="btn-toolbar A54VNK-Vf-c">
                        <button type="button" class="btn btn-default btn-danger" style="line-height:0;">Cancel</button>
                        <button type="submit" class="btn btn-primary done_btn active">Done</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

</template>
<script>
import { mapActions, mapGetters } from 'vuex';
    import SubHeader from './sub_header'

    export default {
        components: {
            SubHeader,
        },

        name: 'Profile',

        data: function () {
            return {
                form: new Form({
                    "id": "",
                    "is_company": true,
                }),
                email: '',
                old_pass: '',
                new_pass: '',
                new_psss_confirmation: '',
            }
        },
        created: function () {
            this.email =  this.get_auth_user_info.email;
        },
        methods: {
            ...mapActions(['fetch_user_information']),
            upload_image: function(){
               let form_data = new FormData($('#profile_pic_form')[0]);
               axios.post('/api/user-profile-update',form_data)
                    .then((res)=>{
                        Toast.fire({
                            icon: 'success',
                            title: 'Profile Image Updated'
                        });
                        this.fetch_user_information();
                    })
            },
            upload_logo: function(){
               let form_data = new FormData($('#logo_pic_form')[0]);
               axios.post('/api/user-logo-update',form_data)
                    .then((res)=>{
                        Toast.fire({
                            icon: 'success',
                            title: 'logo Updated'
                        });
                        this.fetch_user_information();
                    })
            },
            change_email: function(){
                axios.post('/api/user-email-update',{email: this.email})
                        .then((res)=>{
                            Toast.fire({
                                icon: 'success',
                                title: 'Email Updated'
                            });
                        })
                        .catch(err => {
                            let error = err.response.data;
                            $('.email_body').addClass('text-danger');
                            // console.log(error);
                            Toast.fire({
                                icon: 'error',
                                title: error.errors.email
                            });
                        })
            },
            change_password: function(){
                axios.post('/api/user-password-update',{
                    old_pass: this.old_pass,
                    new_pass: this.new_pass,
                    new_pass_confirmation: this.new_psss_confirmation,
                })
                .then((res)=>{
                    console.log(res);
                })
                .catch(err => {
                    let error = err.response.data;
                    console.log(error);
                    Toast.fire({
                        icon: 'error',
                        title: error.errors.old_pass&&error.errors.old_pass + ' ' + error.errors.new_pass&&error.errors.new_pass
                    });
                })
            }
        },
        computed: {
            ...mapGetters(['get_auth_user_info']),
        }
    }
</script>
